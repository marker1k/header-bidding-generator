{"version":3,"sources":["serviceWorker.js","index.js","bidderList/bidderList.js","App.js","trustedOwners/TrustedOwners.js","userTimeout/UserTimeout.js","adUnits/AdUnitBiddersPlacementIdInput.js","adUnits/AdUnitBiddersAdfoxParamsInput.js","adUnits/AdUnitBidders.js","adUnits/AdUnitsUnit.js","adUnits/AdUnits.js","biddersMap/BiddersMapBidder.js","biddersMap/BiddersMap.js"],"names":["Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message","list","value","codeTypes","requireSizes","content","props","bidderSelect","event","index","setState","prevState","biddersMap","map","item","idx","target","Object","assign","checked","biddersName","modifiedList","filter","i","campaignIdInput","persist","currentCmpaignId","trim","usedCampaignIds","state","bidder","includes","hint","addBidder","campaignId","used","elem","biddersList","keys","e","undefined","biddersNameInput","usedBidderNames","biddersNameState","biddersNameHint","removeBidder","addUnit","containerId","adUnits","addButtonDisabled","codeType","bidders","codeTypeSelect","adUnitIndex","arr1","arr2","length","smallArray","bigArray","some","c","compareArraysWithSome","sizes","clearSizesWhenNoBiddersAdded","disableAddBidderButton","biddersMapLength","enableAddBidderButtons","containerIdInput","containerIdUsed","adUnit","sizesInput","adUnitId","JSON","parse","sizesState","sizesHint","removeAdUnit","addBiddertoUnit","placementId","adBreakTypes","preroll","midroll","postroll","adUnitBidderSelect","bidderIndex","placementIdInput","anotherBidsOfThisBidder","unit","flat","adfoxParamsInput","adfoxCode","parser","DOMParser","parsedAdfoxCode","parseFromString","adfoxParamsParsed","querySelectorAll","forEach","element","array","innerText","eval","str","yaContextCb","toString","slice","params","paramsState","paramsHint","adfoxCodeRaw","removeBidderFromAdUnit","adBreakTypeHandler","log","name","trustedOwnersInput","trustedOwners","input","test","userTimeoutInput","userTimeout","handleGenerateButtonClick","showError","flattedBidders","resultElement","querySelector","newBiddersMap","tail","newAdUnits","unitElem","code","bids","bidElem","bid","adBreak","indexOf","newBiddersMapBeautifyed","stringify","newAdUnitsBeautifyed","toggleAddUnitButton","addUnitButtonDisabled","toggleGenerateButton","generateButtonDisabled","errorTitle","errorText","errors","title","text","textContent","style","display","setTimeout","bind","prevProps","this","className","adUnitsUsed","availableBidders","biddersUsed","buttonDisabled","biddersMapButtonDisabled","view","size","disabled","onClick","React","Component","TrustedOwners","baseline","placeholder","onChange","UserTimeout","type","AdUnitBiddersPlacementIdInput","width","AdUnitBiddersAdfoxParamsInput","configureRootTheme","theme","AdUnitBidders","getSelectOptions","currentCodeType","biddersUsedInCurrentAdUnit","options","shortid","generate","htmlFor","id","AdUnitsUnit","row","AdUnits","BiddersMapBidder","hasOwnProperty","BiddersMap"],"mappings":"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","file":"static/js/main.19f8051a.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export const list = {\n  \"default\": {value: \"---\", codeTypes: [\"banner\", \"inpage\", \"instream\", \"combo\"]},\n  \"adfox\": {value: \"ADFOX HB\", codeTypes: [\"banner\", \"inpage\", \"instream\", \"combo\"]},\n  \"criteo\":  {value: \"Criteo\", codeTypes: [\"banner\", \"combo\"]},\n  \"adriver\": {value: \"Soloway\", requireSizes: true, codeTypes: [\"banner\", \"inpage\", \"instream\", \"combo\"]},\n  \"hpmd\": {value: \"HPMD\", codeTypes: [\"banner\", \"instream\"]},\n  \"buzzoola\": {value: \"Buzzoola\", codeTypes: [\"banner\", \"inpage\", \"combo\"]},\n  \"myTarget\": {value: \"Mytarget\", codeTypes: [\"banner\", \"combo\"]},\n  \"facebook\": {value: \"Facebook\", requireSizes: true, codeTypes: [\"banner\"]},\n  \"betweenDigital\": {value: \"Between Digital\", requireSizes: true, codeTypes: [\"banner\", \"inpage\", \"instream\", \"combo\"]},\n  \"aio\": {value: \"All in One Media\", codeTypes: [\"banner\"]},\n  \"getintent\": {value: \"GetIntent\", codeTypes: [\"banner\"]},\n  \"tinkoff\": {value: \"Tinkoff\", codeTypes: [\"banner\"]},\n  \"videonow\": {value: \"Videonow\", codeTypes: [\"banner\", \"combo\"]},\n  \"rtbhouse\": {value: \"RTB House\", codeTypes: [\"banner\", \"combo\"]},\n  \"relap\": {value: \"Relap\", codeTypes: [\"banner\"]},\n  \"pladform\": {value: \"Pladform\", requireSizes: true, codeTypes: [\"banner\"]},\n  \"alfasense\": {value: \"Alfasense\", requireSizes: true, codeTypes: [\"banner\"]},\n  \"fotostrana\": {value: \"Fotostrana\", codeTypes: [\"banner\"]},\n  \"hybrid\": {value: \"Hybrid\", requireSizes: true, codeTypes: [\"banner\", \"inpage\", \"combo\"]},\n  \"mgid\": {value: \"Mgid\", requireSizes: true, codeTypes: [\"banner\"]},\n  \"dgt_ssp\": {value: \"DGT SSP\", codeTypes: [\"banner\"]},\n  \"adspend\": {value: \"ADSPEND\", requireSizes: true, codeTypes: [\"banner\", \"inpage\"]},\n  \"mediatoday\": {value: \"MediaToday\", codeTypes: [\"banner\", \"inpage\"]},\n  \"redllama\": {value: \"Redllama\", codeTypes: [\"banner\", \"inpage\"]},\n  \"qvant_dsp\": {value: \"Qvant DSP\", requireSizes: true, codeTypes: [\"banner\", \"inpage\"]},\n  \"adtelligent\": {value: \"Adtelligent\", codeTypes: [\"banner\", \"inpage\"]},\n  \"otm\": {value: \"OTM\", codeTypes: [\"banner\", \"inpage\", \"instream\"]},\n  \"segmento\": {value: \"Segmento\", requireSizes: true, codeTypes: [\"banner\", \"inpage\", \"instream\"]},\n  \"bidvol\": {value: \"Bidvol\", requireSizes: true, codeTypes: [\"banner\"]},\n  \"admixer\": {value: \"AdMixer\", requireSizes: true, codeTypes: [\"banner\", \"combo\"]},\n  \"gnezdo\": {value: \"Gnezdo\", requireSizes: true, codeTypes: [\"banner\", \"combo\"]},\n  \"mit\": {value: \"Media Instinct\", requireSizes: true, codeTypes: [\"banner\", \"combo\"]},\n  \"astralab\": {value: \"Astralab\", requireSizes: false, codeTypes: [\"banner\", \"combo\"]},\n  \"mts\": {value: \"МТС\", requireSizes: false, codeTypes: [\"banner\", \"combo\", \"instream\"]},\n  \"sape\": {value: \"Sape\", requireSizes: false, codeTypes: [\"banner\", \"combo\", \"instream\"]}\n};","import React from 'react';\nimport {list} from './bidderList/bidderList.js';\nimport BiddersMap from './biddersMap/BiddersMap';\nimport AdUnits from './adUnits/AdUnits';\nimport TrustedOwners from './trustedOwners/TrustedOwners';\nimport UserTimeout from './userTimeout/UserTimeout';\n\nimport './App.css';\nimport './blocks/bidders-map.css';\nimport './blocks/ad-units.css';\n\nimport { configureRootTheme } from '@yandex-lego/components/Theme'\nimport { theme } from '@yandex-lego/components/Theme/presets/default'\nimport { Button } from '@yandex-lego/components/Button/desktop/bundle'\n\n const codeTypes = [\n   { value: 'banner', content: 'Banner' },\n   { value: 'combo', content: 'Combo' },\n   { value: 'inpage', content: 'InPage' },\n   { value: 'instream', content: 'InStream' }\n ]\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.bidderSelect = this.bidderSelect.bind(this);\n    this.campaignIdInput = this.campaignIdInput.bind(this);\n    this.biddersNameInput = this.biddersNameInput.bind(this);\n    this.removeBidder = this.removeBidder.bind(this);\n    this.addUnit = this.addUnit.bind(this);\n    this.codeTypeSelect = this.codeTypeSelect.bind(this);\n    this.containerIdInput = this.containerIdInput.bind(this);\n    this.addBiddertoUnit = this.addBiddertoUnit.bind(this);\n    this.adUnitBidderSelect = this.adUnitBidderSelect.bind(this);\n    this.placementIdInput = this.placementIdInput.bind(this);\n    this.adfoxParamsInput = this.adfoxParamsInput.bind(this);\n    this.removeBidderFromAdUnit = this.removeBidderFromAdUnit.bind(this);\n    this.removeAdUnit = this.removeAdUnit.bind(this);\n    this.requireSizes = this.requireSizes.bind(this);\n    this.clearSizesWhenNoBiddersAdded = this.clearSizesWhenNoBiddersAdded.bind(this);\n    this.disableAddBidderButton = this.disableAddBidderButton.bind(this);\n    this.enableAddBidderButtons = this.enableAddBidderButtons.bind(this);\n    this.sizesInput = this.sizesInput.bind(this);\n    this.adBreakTypeHandler = this.adBreakTypeHandler.bind(this);\n    this.trustedOwnersInput = this.trustedOwnersInput.bind(this);\n    this.userTimeoutInput = this.userTimeoutInput.bind(this);\n    this.state = {\n      biddersMap: [],\n      adUnits: [],\n      addUnitButtonDisabled: true,\n      generateButtonDisabled: true,\n      trustedOwners: {\n        value: \"\",\n        state: \"\",\n        hint: \"\"\n      },\n      userTimeout: {\n        value: \"1000\"\n      }\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.biddersMap !== prevState.biddersMap) {\n      this.enableAddBidderButtons();\n      this.toggleAddUnitButton();\n    }\n    if (this.state.adUnits !== prevState.adUnits) {\n      this.toggleGenerateButton();\n    }\n  }\n\n  bidderSelect = (event, index) => {\n    // Обработчик смены биддера в выпадающем меню\n    this.setState(prevState => {\n      const biddersMap = prevState.biddersMap.map((item, idx) => {\n        if (idx === index) {\n          // Указываем что-выбран конкретный биддер\n          if (event.target.value === \"adfox\") {\n            return Object.assign({}, item, {checked: event.target.value, biddersName: \"\"});\n          } else {\n            return Object.assign({}, item, {checked: event.target.value});\n          }\n        } else {\n          // Если выбран какой-то конкретный, то в остальных он не должен присутствовать (кроме ADFOX)\n          let modifiedList = item.list.filter(i => {\n            return i.value !== event.target.value || i.value === \"adfox\"\n          });\n          return Object.assign({}, item, {list: modifiedList});\n        }\n      })\n      // Записываем модифицированные rows в state\n      return {biddersMap};\n    });\n  }\n\n  campaignIdInput = (event, index) => {\n    event.persist();\n    let currentCmpaignId = event.target.value.trim();\n    this.setState(prevState => {\n      let usedCampaignIds = this.state.biddersMap.map((bidder, idx) => {if (index !== idx) {return bidder.value}});\n      const biddersMap = prevState.biddersMap.map((item, idx) => {\n        // Если idx в map совпадает с index ноды, то меняем value\n        if (idx === index) {\n          // Если такой id уже есть, то подсвечиваем поле как error\n          if (usedCampaignIds.includes(currentCmpaignId) && currentCmpaignId !== \"\") {\n            return Object.assign({}, item, {value: currentCmpaignId, state: \"error\", hint: \"Такой id уже используется\"});\n          } else {\n            return Object.assign({}, item, {value: currentCmpaignId, state: \"\", hint: \"\"});\n          }\n        // Остальные оставляем без изменений\n        } else {\n          return item;\n        }\n      })\n      // Записываем модифицированные rows в state\n      return {biddersMap};\n    });\n  }\n\n  addBidder = (bidder, campaignId) => {\n    // Смотрим какие биддеры выбраны в данный момент и добавляем их в массив использованных\n    let used = this.state.biddersMap.map((elem) => {\n      // --- и adfox дожны быть в списке всегда\n      if (elem.checked !== \"default\" && elem.checked !== \"adfox\") {\n        return elem.checked;\n      }\n    });\n    // Отрисовываем биддеров в выпадающее меню\n    let biddersList = Object.keys(list).map((bidder) => {\n      if (!used.includes(bidder)) {\n        return {content: list[bidder].value, value: bidder};\n      }\n    })\n    // Что-то отфильровываем (?)\n    .filter(e => e !== undefined);\n    this.setState((prevState) => ({\n    // Checked -- это биддер, который выбран в данный момент в row. value -- campaignId\n      biddersMap: [...prevState.biddersMap, {list: biddersList, checked: \"default\", value: \"\", state: \"\", hint: \"\"}]\n    }));\n  }\n\n  biddersNameInput = (event, idx) => {\n    event.persist();\n    const index = idx;\n    this.setState(prevState => {\n      let usedBidderNames = this.state.biddersMap.map((bidder, index) => {if (index !== idx) {return bidder.biddersName}});\n      const biddersMap = prevState.biddersMap.map((item, idx) => {\n        if (idx === index) {\n          if (usedBidderNames.includes(event.target.value)) {\n            return Object.assign({}, item, {biddersName: event.target.value, biddersNameState: \"error\", biddersNameHint: \"Логин уже используется\"});\n          } else {\n            return Object.assign({}, item, {biddersName: event.target.value, biddersNameState: \"\", biddersNameHint: \"\"});\n          }\n        } else {\n          return item;\n        }\n      })\n      return {biddersMap};\n    });\n  }\n\n  removeBidder = (index) => {\n    this.setState(prevState => {\n      const biddersMap = prevState.biddersMap.filter((item, idx) => index !== idx);\n      return { biddersMap };\n    });\n  }\n\n  addUnit = (containerId) => {\n    this.setState((prevState) => ({\n      adUnits: [...prevState.adUnits, { containerId: \"\", addButtonDisabled: false, codeType: \"banner\", state: \"\", hint: \"\", bidders: [] }]\n    }));\n  }\n\n  codeTypeSelect = (event, idx) => {\n    // const index = idx;\n    this.setState(prevState => {\n      const adUnits = prevState.adUnits.map((item, index) => {\n        if (idx === index) {\n          return Object.assign({}, item, {codeType: event.target.value});\n        } else {\n          return item;\n        }\n      })\n      return {adUnits};\n    });\n  }\n\n  requireSizes = (adUnitIndex) => {\n    let requireSizesList = Object.keys(list).map((bidder) => {\n      if (list[bidder].requireSizes) {\n        return bidder;\n      }\n    }).filter(e => e !== undefined);;\n\n    let currentAdUnitBidders = this.state.adUnits[adUnitIndex].bidders.map((elem) => {\n      return elem.checked;\n    });\n\n    const compareArraysWithSome = (arr1, arr2) => {\n        const [smallArray, bigArray] =\n          arr1.length < arr2.length ? [arr1, arr2] : [arr2, arr1];\n        return smallArray.some(c => bigArray.includes(c));\n    };\n\n    if ( compareArraysWithSome(requireSizesList, currentAdUnitBidders) ) {\n      this.setState(prevState => {\n        const adUnits = prevState.adUnits.map((item, index) => {\n          if (adUnitIndex === index) {\n            if (item.sizes === undefined) {\n              return Object.assign({}, item, {sizes: []});\n            } else {\n              return item;\n            }\n          } else {\n            return item;\n          }\n        })\n        return {adUnits};\n      });\n    } else {\n      this.setState(prevState => {\n        const adUnits = prevState.adUnits.map((item, index) => {\n          if (adUnitIndex === index) {\n            return Object.assign({}, item, {sizes: undefined});\n          } else {\n            return item;\n          }\n        })\n        return {adUnits};\n      });\n    }\n  }\n\n  clearSizesWhenNoBiddersAdded = (adUnitIndex) => {\n    if (this.state.adUnits[adUnitIndex].bidders.length === 0) {\n      this.setState(prevState => {\n        const adUnits = prevState.adUnits.map((item, index) => {\n          if (adUnitIndex === index) {\n            return Object.assign({}, item, {sizes: undefined});\n          } else {\n            return item;\n          }\n        })\n        return {adUnits};\n      });\n    }\n  }\n\n  disableAddBidderButton = (adUnitIndex, codeType) => {\n    const biddersMapLength = this.state.biddersMap.length;\n    const currentAdUnitBiddersLength = this.state.adUnits[adUnitIndex].bidders.length;\n    // if (currentAdUnitBiddersLength >= biddersMapLength)\n    // debugger;\n    // const bidderInBidMap = this.state.biddersMap.map((bidder) => {\n    //   return bidder.checked;\n    // });\n    // const biddersAvailableForThisCodeType = Object.keys(list).map((bidder) => {\n    //   if (bidderInBidMap.includes(bidder) && list[bidder].codeTypes.includes(codeType)) {\n    //     return bidder;\n    //   }\n    // }).filter((elem) => {return elem !== undefined});\n    // console.log(bidderInBidMap);\n    // console.log(biddersAvailableForThisCodeType);\n\n    //if (biddersAvailableForThisCodeType.length >= bidderInBidMap.length)\n    if (currentAdUnitBiddersLength >= biddersMapLength) {\n      this.setState(prevState => {\n        const adUnits = prevState.adUnits.map((item, index) => {\n          if (adUnitIndex === index) {\n            return Object.assign({}, item, {addButtonDisabled: true});\n          } else {\n            return item;\n          }\n        })\n        return {adUnits};\n      });\n    } else {\n      this.setState(prevState => {\n        const adUnits = prevState.adUnits.map((item, index) => {\n          if (adUnitIndex === index) {\n            return Object.assign({}, item, {addButtonDisabled: false});\n          } else {\n            return item;\n          }\n        })\n        return {adUnits};\n      });\n    }\n  }\n\n  enableAddBidderButtons = () => {\n    this.setState(prevState => {\n      const adUnits = prevState.adUnits.map((item) => {\n        return Object.assign({}, item, {addButtonDisabled: false});\n      })\n      return {adUnits};\n    });\n  }\n\n  containerIdInput = (event, idx) => {\n    event.persist();\n    this.setState(prevState => {\n      let containerIdUsed = prevState.adUnits.map((adUnit, index) => {if (index !== idx) {return adUnit.containerId}});\n      const adUnits = prevState.adUnits.map((item, index) => {\n        if (idx === index) {\n          if (containerIdUsed.includes(event.target.value) && event.target.value !== \"\") {\n            return Object.assign({}, item, {containerId: event.target.value, state: \"error\", hint: \"ID контейнера уже используется\"});\n          } else {\n            return Object.assign({}, item, {containerId: event.target.value, state: \"\", hint: \"\"});\n          }\n        } else {\n          return item;\n        }\n      })\n      return {adUnits};\n    });\n  }\n\n  sizesInput = (event, adUnitId) => {\n    event.persist();\n    this.setState(prevState => {\n      const adUnits = prevState.adUnits.map((item, index) => {\n        if (adUnitId === index) {\n          try {\n            JSON.parse(`[${event.target.value}]`);\n            return Object.assign({}, item, {sizes: event.target.value, sizesState: \"\", sizesHint: \"\"});\n          } catch (e) {\n            return Object.assign({}, item, {sizes: event.target.value, sizesState: \"error\", sizesHint: \"Некорректно заполнено поле\"});\n          }\n        } else {\n          return item;\n        }\n      })\n      return {adUnits};\n    });\n  }\n\n  removeAdUnit = (e, adUnitIndex) => {\n    this.setState(prevState => {\n      const adUnits = prevState.adUnits.filter((item, idx) => adUnitIndex !== idx);\n      return { adUnits };\n    });\n  }\n\n  addBiddertoUnit = (event, idx) => {\n    // const index = idx;\n    this.setState(prevState => {\n      const adUnits = prevState.adUnits.map((item, index) => {\n        if (idx === index) {\n          // { checked: \"\", list: [ { value: 'default', content: '---' }, { value: 'banner', content: 'Banner' }, { value: 'banner', content: 'Banner' } ] }\n          // [...prevState.biddersMap, {list: biddersList, checked: \"default\", value: \"\"}]\n          if (prevState.adUnits[index].codeType === \"instream\") {\n            return Object.assign({}, item,\n              {\n                bidders: [...prevState.adUnits[index].bidders,\n                {\n                  checked: \"\",\n                  placementId: \"\",\n                  state: \"\", \n                  hint: \"\",\n                  adBreakTypes: {\n                    preroll: false,\n                    midroll: false,\n                    postroll: false\n                  } \n                }\n                ]\n              }\n            );\n          } else {\n            return Object.assign({}, item,\n              {\n                bidders: [...prevState.adUnits[index].bidders,\n                {\n                  checked: \"\",\n                  placementId: \"\",\n                  state: \"\", \n                  hint: \"\"\n                }\n                ]\n              }\n            );\n          }\n        } else {\n          return item;\n        }\n      })\n      return {adUnits};\n    });\n  }\n\n  adUnitBidderSelect = (event, adUnitIndex, bidderIndex) => {\n    this.setState(prevState => {\n      const bidders = prevState.adUnits[adUnitIndex].bidders.map((item, index) => {\n        if (bidderIndex === index) {\n          return Object.assign({}, item, {checked: event.target.value});\n        } else {\n          return item;\n        }\n      });\n      const adUnits = prevState.adUnits.map((item, index) => {\n        if (adUnitIndex === index) {\n          return Object.assign({}, item, {bidders});\n        } else {\n          return item;\n        }\n      });\n      return {adUnits};\n    });\n  }\n\n  placementIdInput = (event, adUnitIndex, bidderIndex) => {\n    event.persist();\n    this.setState(prevState => {\n      const bidders = prevState.adUnits[adUnitIndex].bidders.map((item, index) => {\n\n        let anotherBidsOfThisBidder = this.state.adUnits.filter((adUnit, index) => {\n          return index !== adUnitIndex}\n        ).map((unit) => {\n          return unit.bidders;\n        }).flat();\n\n        if (bidderIndex === index) {\n          if (anotherBidsOfThisBidder.some(elem => elem.placementId === event.target.value) && event.target.value !== \"\") {\n            return Object.assign({}, item, {placementId: event.target.value, state: \"error\", hint: \"Такой placementId уже используется\"});\n          } else {\n            return Object.assign({}, item, {placementId: event.target.value, state: \"\", hint: \"\"});\n          }\n        } else {\n          return item;\n        }\n      });\n      const adUnits = prevState.adUnits.map((item, index) => {\n        if (adUnitIndex === index) {\n          return Object.assign({}, item, {bidders});\n        } else {\n          return item;\n        }\n      });\n      return {adUnits};\n    });\n  }\n\n  adfoxParamsInput = (event, adUnitIndex, bidderIndex) => {\n    event.persist();\n    let adfoxCode = event.target.value;\n    const parser = new DOMParser();\n    let parsedAdfoxCode = parser.parseFromString(adfoxCode, \"text/html\");\n    let adfoxParamsParsed;\n    if (adfoxCode !== \"\") {\n      parsedAdfoxCode.querySelectorAll(\"script\").forEach((element, index, array) => {\n        if (element.innerText.includes(\"adfoxCode\")) {\n          eval(array[index].innerText);\n          let str = window.yaContextCb[0].toString();\n          adfoxParamsParsed = eval(str.slice(5).slice(0, -1));\n          window.yaContextCb = [];\n        }  \n      });\n    } else {\n      adfoxParamsParsed = {};\n      adfoxParamsParsed.params = \"\";\n    }\n    \n    this.setState(prevState => {\n      const bidders = prevState.adUnits[adUnitIndex].bidders.map((item, index) => {\n        if (bidderIndex === index) {\n          if (adfoxParamsParsed === undefined) {\n            return Object.assign({}, item, {params: \"\", paramsState: \"error\", paramsHint: \"Введите код вставки ADFOX полностью\", adfoxCodeRaw: adfoxCode});\n          } else {\n            return Object.assign({}, item, {params: adfoxParamsParsed.params, paramsState: \"\", paramsHint: \"\", adfoxCodeRaw: adfoxCode});\n          }\n        } else {\n          return item;\n        }\n      });\n      const adUnits = prevState.adUnits.map((item, index) => {\n        if (adUnitIndex === index) {\n          return Object.assign({}, item, {bidders});\n        } else {\n          return item;\n        }\n      });\n      return {adUnits};\n    });\n  }\n\n  removeBidderFromAdUnit = (adUnitIndex, bidderIndex) => {\n    this.setState(prevState => {\n      const bidders = prevState.adUnits[adUnitIndex].bidders.filter((item, idx) => bidderIndex !== idx);\n\n      const adUnits = prevState.adUnits.map((item, index) => {\n        if (adUnitIndex === index) {\n          return Object.assign({}, item, {bidders});\n        } else {\n          return item;\n        }\n      });\n      return {adUnits};\n    });\n  }\n\n  adBreakTypeHandler = (e, adUnitIndex, bidderIndex) => {\n    e.persist();\n    console.log(e.target.checked);\n    this.setState(prevState => {\n      const bidders = prevState.adUnits[adUnitIndex].bidders.map((item, index) => {\n        if (bidderIndex === index) {\n          // return Object.assign({}, item, {adBreakType: e.target.name});\n          if (e.target.checked) {\n            return {\n              ...item,\n              adBreakTypes: {\n                ...item.adBreakTypes,\n                [e.target.name]: true\n              }\n            }\n          } else {\n            return {\n              ...item,\n              adBreakTypes: {\n                ...item.adBreakTypes,\n                [e.target.name]: false\n              }\n            }\n          }\n          \n        } else {\n          return item;\n        }\n      });\n\n      const adUnits = prevState.adUnits.map((item, index) => {\n        if (adUnitIndex === index) {\n          return Object.assign({}, item, {bidders});\n        } else {\n          return item;\n        }\n      });\n\n      return {adUnits};\n    });\n  }\n\n  trustedOwnersInput = (e) => {\n    const trustedOwners = {...this.state.trustedOwners};\n    const input = e.target.value;\n    if (!/(^\\d+$)|(^\\d+(?:,\\d+)+$)/.test(input) && input !==\"\") {\n      trustedOwners.state = \"error\";\n      trustedOwners.hint = \"Введите id кампании(й) через запятую\";\n      this.setState({trustedOwners});\n    } else {\n      trustedOwners.state = \"\";\n      trustedOwners.hint = \"\";\n      this.setState({trustedOwners});\n    }\n    trustedOwners.value = input;\n    this.setState({trustedOwners});\n  }\n\n  userTimeoutInput = (e) => {\n    const userTimeout = {...this.state.userTimeout};\n    const input = e.target.value;\n    userTimeout.value = input;\n    this.setState({userTimeout});\n  }\n\n  handleGenerateButtonClick = () => {\n    const biddersMap = this.state.biddersMap;\n    const adUnits = this.state.adUnits;\n    const trustedOwners = this.state.trustedOwners;\n    const userTimeout = this.state.userTimeout.value;\n    // Валидация id кампании\n    if (biddersMap.some((elem) => elem.state === 'error')) {\n      this.showError(\"Bidders Map\", \"Исправьте все ошибки в biddersMap\");\n      return;\n    }\n\n    if (biddersMap.some((bidder) => bidder.checked === \"default\")) {\n      this.showError(\"Bidders Map\", \"Проверьте, что во всех позициях выбран биддер\");\n      return;\n    }\n\n    if (biddersMap.some((bidder) => bidder.value === \"\")) {\n      this.showError(\"Bidders Map\", \"Проверьте, что во всех позициях указан id кампании\");\n      return;\n    }\n\n    if (adUnits.some((elem) => elem.state === 'error')) {\n      // alert(\"Исправьте все ошибки в adUnits\");\n      this.showError(\"Ad Units\", \"Исправьте все ошибки в Ad Units\");\n      return;\n    }\n\n    if (adUnits.some((elem) => elem.bidders.length === 0)) {\n      // alert(\"adUnit не может быть без биддеров\");\n      this.showError(\"Ad Units\", \"Ad Unit не может быть без биддеров\");\n      return;\n    }\n\n    if (adUnits.some((elem) => elem.containerId === \"\")) {\n      // alert(\"Проверьте, что во всех adUnit заполнен Id контейнера\");\n      this.showError(\"Ad Units\", \"Проверьте, что во всех adUnit заполнен Id контейнера\");\n      return;\n    }\n\n    if (adUnits.some((elem) => elem.codeType !== 'instream' && elem.sizes !== undefined && elem.sizes.length === 0)) {\n      // alert(\"Проверьте, что во всех adUnit заполнен Id контейнера\");\n      this.showError(\"Ad Units\", \"Проверьте, что во всех adUnit заполнено поле sizes\");\n      return;\n    }\n\n    if (adUnits.some((elem) => elem.sizesState === 'error')) {\n      // alert(\"Проверьте, что во всех adUnit заполнен Id контейнера\");\n      this.showError(\"Ad Units\", \"Исправьте ошибки заполнения полей sizes\");\n      return;\n    }\n\n    const flattedBidders = adUnits.map((adUnit) => {\n      return adUnit.bidders;\n    }).flat();\n\n    if (flattedBidders.some((elem) => elem.checked === \"\")) {\n      // alert(\"Проверьте, что во всех adUnit выбраны все биддеры\");\n      this.showError(\"Ad Units\", \"Проверьте, что во всех adUnit выбраны биддеры\");\n      return;\n    }\n\n    if (flattedBidders.some((elem) => elem.placementId === \"\" && elem.params === undefined)) {\n      console.log(flattedBidders);\n      this.showError(\"Ad Units\", \"Проверьте, что во всех adUnit заполнены placementId биддеров\");\n      return;\n    }\n\n    if (flattedBidders.some((elem) => elem.placementId === \"\" && Object.keys(elem.params).length === 0)) {\n      console.log(flattedBidders);\n      this.showError(\"Ad Units\", \"Проверьте, что во всех adUnit заполнены коды вставки ADFOX\");\n      return;\n    }\n\n    if (flattedBidders.some((elem) => elem.state === \"error\")) {\n      this.showError(\"Ad Units\", \"Исправьте все ошибки в Ad Units\");\n      return;\n    }\n\n    if (flattedBidders.some((elem) => elem.adBreakTypes !== undefined && elem.adBreakTypes.preroll === false && elem.adBreakTypes.midroll === false && elem.adBreakTypes.postroll === false)) {\n      this.showError(\"Ad Units\", \"В instream adUnit должен быть выбран хотя бы один adBreakType\");\n      return;\n    }\n\n    if (trustedOwners.value !== \"\") {\n      if (trustedOwners.state === \"error\") {\n        // alert(\"Исправьте ошибку в Trusted Owners\");\n        this.showError(\"Trusted Owners\", \"Исправьте ошибку в Trusted Owners\");\n        return;\n      }\n    }\n\n    const resultElement = document.querySelector(\".result__code\");\n    // Формируем biddersMaps\n    const newBiddersMap = {};\n    biddersMap.forEach((elem) => {\n      if (elem.checked === \"adfox\") {\n        newBiddersMap[`adfox_${elem.biddersName}`] = elem.value;\n      } else {\n        newBiddersMap[elem.checked] = elem.value;\n      }\n    });\n    // Формируем adUnits\n    const newAdUnits = adUnits.map((unitElem) => {\n      const codeType = unitElem.codeType;\n      let adUnit = {\n          code: unitElem.containerId\n      };\n      if (codeType !== \"banner\") {\n        adUnit.codeType = codeType;\n      }\n      if (unitElem.sizes !== undefined && codeType !== \"instream\") {\n        try {\n          adUnit.sizes = JSON.parse(`[${unitElem.sizes}]`);\n        } catch (e) {\n          this.showError(\"Sizes\", \"Некорректно заполнены sizes\");\n        }\n      }\n      // Формируем массив bids для adUnit\n      adUnit.bids = unitElem.bidders.map((bidElem) => {\n          let bid = {\n              bidder: bidElem.checked,\n          };\n          // Если instream, то записываем adBreakTypes\n          if (codeType === \"instream\") {\n            bid.adBreakTypes = Object.keys(bidElem.adBreakTypes).map((adBreak) => {\n              if (bidElem.adBreakTypes[adBreak] === true) {\n                return adBreak;\n              } else {\n                return false;\n              }\n            }).filter(e => e !== false);\n          }\n          // Если это монетизатор adfox, то в params кладём параметры из кода вставки\n          if (bidElem.checked.includes(\"adfox_\") === true && bidElem.checked.indexOf(\"adfox_\") === 0) {\n            bid.params = Object.assign({}, bidElem.params)\n            return bid;\n          // Если остальные то в параметрах placementId\n          } else {\n            bid.params = {};\n            bid.params.placementId = bidElem.placementId;\n            return bid;\n          }\n      });\n      return adUnit;\n    });\n\n    const newBiddersMapBeautifyed = JSON.stringify(newBiddersMap, null, 2);\n    const newAdUnitsBeautifyed = JSON.stringify(newAdUnits, null, 2);\n    let tail;\n    if (this.state.trustedOwners.value !== \"\") {\n      tail = \"\\n\\nwindow.YaHeaderBiddingSettings = {\\n  biddersMap: adfoxBiddersMap,\\n  adUnits: adUnits,\\n  timeout: userTimeout,\\n  trustedOwners: [\" + this.state.trustedOwners.value + \"]\\n};\"\n    } else {\n      tail = \"\\n\\nwindow.YaHeaderBiddingSettings = {\\n  biddersMap: adfoxBiddersMap,\\n  adUnits: adUnits,\\n  timeout: userTimeout\\n};\"\n    }\n    resultElement.value = \n      `<script async src=\"https://yandex.ru/ads/system/header-bidding.js\"></script>\\n<script>\\nvar adfoxBiddersMap = ${newBiddersMapBeautifyed};\\n\\nvar adUnits = ${newAdUnitsBeautifyed};\\n\\nvar userTimeout = ${userTimeout === \"\" ? \"1000\" : userTimeout};${tail}\\n</script>\\n<script>window.yaContextCb = window.yaContextCb || []</script>\\n<script src=\"https://yandex.ru/ads/system/context.js\" async></script>`;\n  }\n\n  toggleAddUnitButton = () => {\n    if (this.state.biddersMap.length === 0) {\n      this.setState({addUnitButtonDisabled: true});\n    } else {\n      this.setState({addUnitButtonDisabled: false});\n    }\n  }\n\n  toggleGenerateButton = () => {\n    if (this.state.adUnits.length === 0) {\n      this.setState({generateButtonDisabled: true});\n    } else {\n      this.setState({generateButtonDisabled: false});\n    }\n  }\n\n  showError = (errorTitle, errorText) => {\n    const errors = document.querySelector('.errors');\n    const title = errors.querySelector('.errors__title');\n    const text = errors.querySelector('.errors__text');\n    title.textContent = errorTitle;\n    text.textContent = errorText;\n    errors.style.display = 'flex';\n    setTimeout(() => {errors.style.display = 'none'}, 5000)\n  };\n\n  render() {\n    return (\n      <div className=\"main-wrapper\">\n        <div className=\"bidders-map\">\n          <div className=\"bidders-map__heading-wrapper\">\n            <h2 className=\"bidders-map__heading\">Bidders Map</h2>\n            <div className=\"help-icon\">&#63;\n              <div className=\"help-popup\">Выберите из списка биддеров и укажите для него id рекламной кампании, созданной в вашем аккаунте ADFOX.</div>\n            </div>\n          </div>\n            <BiddersMap\n              adUnitsUsed={this.state.adUnits}\n              availableBidders={list}\n              biddersUsed={this.state.biddersMap}\n              addBidder={this.addBidder}\n              campaignIdInput={this.campaignIdInput}\n              bidderSelect={this.bidderSelect}\n              biddersNameInput={this.biddersNameInput}\n              removeBidder={this.removeBidder}\n              buttonDisabled={this.state.biddersMapButtonDisabled}\n            />\n        </div>\n\n        <div className=\"ad-units\">\n          <div className=\"bidders-map__heading-wrapper\">\n          <h2 className=\"ad-units__heading\">Ad Units</h2>\n            <div className=\"help-icon\">&#63;\n              <div className=\"help-popup\">Для каждого рекламного места (контейнера) нажмите кнопку \"Добавить биддера\" и укажите набор биддеров, участвующих в торгах за показ на этом месте с их placementId.</div>\n            </div>\n          </div>\n          <AdUnits\n            buttonDisabled={this.state.addUnitButtonDisabled}\n            adUnitsUsed={this.state.adUnits}\n            biddersMap={this.state.biddersMap}\n            addUnit={this.addUnit}\n            codeTypes={codeTypes}\n            codeTypeSelect={this.codeTypeSelect}\n            containerIdInput={this.containerIdInput}\n            addBiddertoUnit={this.addBiddertoUnit}\n            adUnitBidderSelect={this.adUnitBidderSelect}\n            placementIdInput={this.placementIdInput}\n            biddersList={list}\n            removeAdUnit={this.removeAdUnit}\n            removeBidderFromAdUnit={this.removeBidderFromAdUnit}\n            requireSizes={this.requireSizes}\n            clearSizesWhenNoBiddersAdded={this.clearSizesWhenNoBiddersAdded}\n            disableAddBidderButton={this.disableAddBidderButton}\n            sizesInput={this.sizesInput}\n            adBreakTypeHandler={this.adBreakTypeHandler}\n            adfoxParamsInput={this.adfoxParamsInput}\n          />\n\n          <TrustedOwners \n            trustedOwners={this.state.trustedOwners}\n            trustedOwnersInput={this.trustedOwnersInput}\n          />\n\n          <UserTimeout \n            userTimeout={this.state.userTimeout}\n            userTimeoutInput={this.userTimeoutInput}\n          />\n\n          {/* <button onClick={()=>{console.log(this.state)}}>Show state</button> */}\n        </div>\n\n        <div className=\"result\">\n          <textarea className=\"result__code\"></textarea>\n          <Button \n            view=\"action\" \n            size=\"m\" \n            className=\"result__button\"\n            disabled={this.state.generateButtonDisabled}\n            onClick={(e) => {this.handleGenerateButtonClick()}}\n          >\n            Сгенерировать\n          </Button>\n        </div>\n        <div className=\"errors\">\n          <h2 className=\"errors__title\">Ad Units</h2>\n          <p className=\"errors__text\">eiufehrifefuyryr</p>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport { Textinput } from '@yandex-lego/components/Textinput/desktop/bundle'\n\nclass TrustedOwners extends React.Component {\n  render() {\n    return (\n      <div className=\"trusted-owners\">\n        <div className=\"bidders-map__heading-wrapper\">\n          <h2 className=\"trusted-owners__title\">Trusted Owners</h2>\n          <div className=\"help-icon\">&#63;\n              <div className=\"help-popup\">Необязательный параметр. Если вы планируете передавать ставки в запросы других аккаунтов ADFOX через шаблон Проброс кода ADFOX [loader], укажите через запятую идентификаторы аккаунтов, коды из которых будут пробрасываться.</div>\n            </div>\n        </div>\n        <div className=\"trusted-owners__input\">\n          <Textinput\n              baseline=\"true\"\n              size=\"m\"\n              view=\"default\"\n              placeholder=\"11111,22222,33333,444444\"\n              value={this.props.trustedOwners.value}\n              state={this.props.trustedOwners.state}\n              hint={this.props.trustedOwners.hint}\n              onChange={(e) => {this.props.trustedOwnersInput(e)}}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default TrustedOwners;","import React from 'react';\nimport { Textinput } from '@yandex-lego/components/Textinput/desktop/bundle'\n\nclass UserTimeout extends React.Component {\n  render() {\n    return (\n      <div className=\"user-timeout\">\n        <div className=\"bidders-map__heading-wrapper\">\n          <h2 className=\"trusted-owners__title\">User Timeout</h2>\n          <div className=\"help-icon\">&#63;\n              <div className=\"help-popup\">Время ожидания ответа от сервера биддера, рекомендуемое время 500 мс (максимальное 3000 мс).</div>\n            </div>\n        </div>\n        <div className=\"user-timeout__input\">\n          <Textinput\n              baseline=\"true\"\n              size=\"m\"\n              view=\"default\"\n              type=\"number\"\n              placeholder=\"Таймаут в миллисекундах\"\n              value={this.props.userTimeout.value}\n              state={this.props.userTimeout.state}\n              hint={this.props.userTimeout.hint}\n              onChange={(e) => {this.props.userTimeoutInput(e)}}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default UserTimeout;","import React from 'react';\nimport { Textinput } from '@yandex-lego/components/Textinput/desktop/bundle'\n\nclass AdUnitBiddersPlacementIdInput extends React.Component {\n    render() {\n        let adUnitIndex = this.props.adUnitIndex;\n        let bidderIndex = this.props.bidderIndex;\n        let adUnitsUsed = this.props.adUnitsUsed;\n        return(\n            <div className=\"ad-units-bidder__placement-id-input\">\n            {/* <p className=\"ad-units-bidder__placement-id-label\">placementId:</p> */}\n            <Textinput\n              baseline=\"true\"\n              width=\"max\"\n              size=\"m\"\n              view=\"default\"\n              placeholder=\"placementId\"\n              state={adUnitsUsed[adUnitIndex].bidders[bidderIndex].state}\n              hint={adUnitsUsed[adUnitIndex].bidders[bidderIndex].hint}\n              value={adUnitsUsed[adUnitIndex].bidders[bidderIndex].placementId}\n              onChange={(e) => {this.props.placementIdInput(e, adUnitIndex, bidderIndex)}}\n            />\n          </div>\n        )\n    }\n}\n\nexport default AdUnitBiddersPlacementIdInput;","import React from 'react';\nimport { Textarea } from '@yandex-lego/components/Textarea/desktop/bundle'\n\nclass AdUnitBiddersAdfoxParamsInput extends React.Component {\n    render() {\n        let adUnitIndex = this.props.adUnitIndex;\n        let bidderIndex = this.props.bidderIndex;\n        let adUnitsUsed = this.props.adUnitsUsed;\n        return(\n            <div className=\"ad-units-bidder__adfox-params-input\">\n            <p className=\"ad-units-bidder__adfox-params-label\">Код вставки:</p>\n            <Textarea\n              baseline=\"true\"\n              width=\"max\"\n              size=\"m\"\n              view=\"default\"\n              state={adUnitsUsed[adUnitIndex].bidders[bidderIndex].paramsState}\n              hint={adUnitsUsed[adUnitIndex].bidders[bidderIndex].paramsHint}\n              value={adUnitsUsed[adUnitIndex].bidders[bidderIndex].adfoxCodeRaw}\n              onChange={(e) => {this.props.adfoxParamsInput(e, adUnitIndex, bidderIndex)}}\n            />\n          </div>\n        )\n    }\n}\n\nexport default AdUnitBiddersAdfoxParamsInput;","import React from 'react';\nimport shortid from 'shortid';\nimport AdUnitBiddersPlacementIdInput from './AdUnitBiddersPlacementIdInput';\nimport AdUnitBiddersAdfoxParamsInput from './AdUnitBiddersAdfoxParamsInput';\n\nimport { configureRootTheme } from '@yandex-lego/components/Theme'\nimport { theme } from '@yandex-lego/components/Theme/presets/default'\n\nimport { Button } from '@yandex-lego/components/Button/desktop/bundle'\nimport { Select } from '@yandex-lego/components/Select/desktop/bundle'\n\nconfigureRootTheme({ theme })\n\nclass AdUnitBidders extends React.Component {\n  componentDidUpdate(prevProps) {\n    // prevProps.adUnitsUsed[this.props.adUnitIndex].sizes;\n    // prevProps.adUnitsUsed[this.props.adUnitIndex].sizes;\n    if (this.props.adUnitsUsed[this.props.adUnitIndex].bidders !== prevProps.adUnitsUsed[this.props.adUnitIndex].bidders) {\n      this.props.requireSizes(this.props.adUnitIndex);\n    }\n  }\n\n  // Функция для генерации списка биддеров при добавлении биддера в adUnit\n  getSelectOptions = () => {\n    // debugger;\n    let currentCodeType = this.props.codeType;\n    let adUnitsUsed = this.props.adUnitsUsed;\n    let adUnitIndex = this.props.adUnitIndex;\n    let bidderIndex = this.props.bidderIndex;\n    let biddersMap = this.props.biddersMap;\n    let biddersList = this.props.biddersList;\n    // Биддеры, которые заиспользованы в текущем adUnit\n    let biddersUsedInCurrentAdUnit = adUnitsUsed[adUnitIndex].bidders.map((elem, idx) => {\n      if (idx !== bidderIndex) {\n        return elem.checked;\n      }\n    }).filter(e => e !== undefined);\n    // biddersList -- изначальный список из list\n    // biddersMap -- то что добавлено в bidders map\n    let list = biddersMap.map((bidder) => {\n      if (\n        biddersList[bidder.checked].codeTypes.includes(currentCodeType) === true \n        && biddersUsedInCurrentAdUnit.includes(bidder.checked === 'adfox' ? `adfox_${bidder.biddersName}` : bidder.checked) === false\n      ) {\n        if (bidder.checked === 'adfox') {\n          return {value: `adfox_${bidder.biddersName}`, content: bidder.biddersName}\n        } else {\n          return {value: bidder.checked, content: biddersList[bidder.checked].value}\n        }\n      }\n    }).filter(item => item !== undefined);\n    \n    // фильтруем одинаковые элементы списка. Такое может случится, если в biddersMap ошибка и одинаковый логин для adfox hb используется два раза\n    // let ids = list.map(o => o.id);\n    // let filtered = list.filter(({id}, index) => !ids.includes(id, index + 1));\n\n    return list;\n  }\n\n  render() {\n    let adUnitIndex = this.props.adUnitIndex;\n    let bidderIndex = this.props.bidderIndex;\n    let adUnitsUsed = this.props.adUnitsUsed;\n    return (\n      <div className=\"ad-units-bidder\">\n        <div className=\"ad-units-bidder__options\">\n          <p className=\"ad-units-bidder__bidder-label\">Bidder:</p>\n          <div className=\"ad-units-bidder__bidder-select\">\n            <Select\n              key={shortid.generate()}\n              width=\"max\"\n              baseline=\"true\"\n              size=\"m\"\n              view=\"default\"\n              onChange={(e) => {this.props.adUnitBidderSelect(e, adUnitIndex, bidderIndex)}}\n              value={adUnitsUsed[adUnitIndex].bidders[bidderIndex].checked}\n              options={this.getSelectOptions()}\n            />\n          </div>\n          {adUnitsUsed[adUnitIndex].bidders[bidderIndex].checked.includes(\"adfox\") ? (\n            <AdUnitBiddersAdfoxParamsInput \n              adfoxParamsInput={this.props.adfoxParamsInput}\n              adUnitsUsed={this.props.adUnitsUsed}\n              bidderIndex={this.props.bidderIndex}\n              adUnitIndex={this.props.adUnitIndex}\n            />\n          ) : (\n            <AdUnitBiddersPlacementIdInput \n              placementIdInput={this.props.placementIdInput}\n              adUnitsUsed={this.props.adUnitsUsed}\n              bidderIndex={this.props.bidderIndex}\n              adUnitIndex={this.props.adUnitIndex}\n            />\n          )}\n          <div className=\"ad-units-bidder__remove-button\">\n            <Button view=\"action\" size=\"m\"\n              onClick={(e) => {this.props.removeBidderFromAdUnit(adUnitIndex, bidderIndex)}}\n            >\n              ✕\n            </Button>\n          </div>\n        </div>\n        {\n          adUnitsUsed[adUnitIndex].codeType === \"instream\" && \n          <div className=\"ad-units-bidder__ad-breaks\">\n            <label htmlFor=\"preroll\">Preroll</label>\n            <input \n              className=\"ad-units-bidder__ad-break-input\" \n              type=\"checkbox\" \n              id=\"preroll\" \n              name=\"preroll\" \n              checked={adUnitsUsed[adUnitIndex].bidders[bidderIndex].adBreakTypes !== undefined ? adUnitsUsed[adUnitIndex].bidders[bidderIndex].adBreakTypes.preroll : false} \n              onChange={(e) => {this.props.adBreakTypeHandler(e, adUnitIndex, bidderIndex)}}\n            />\n\n            <label htmlFor=\"midroll\">Midroll</label>\n            <input \n              className=\"ad-units-bidder__ad-break-input\" \n              type=\"checkbox\" \n              id=\"midroll\" \n              name=\"midroll\" \n              checked={adUnitsUsed[adUnitIndex].bidders[bidderIndex].adBreakTypes !== undefined ? adUnitsUsed[adUnitIndex].bidders[bidderIndex].adBreakTypes.midroll : false} \n              onChange={(e) => {this.props.adBreakTypeHandler(e, adUnitIndex, bidderIndex)}}\n            />\n\n            <label htmlFor=\"postroll\">Postroll</label>\n            <input \n              className=\"ad-units-bidder__ad-break-input\" \n              type=\"checkbox\" \n              id=\"postroll\" \n              name=\"postroll\" \n              checked={adUnitsUsed[adUnitIndex].bidders[bidderIndex].adBreakTypes !== undefined ? adUnitsUsed[adUnitIndex].bidders[bidderIndex].adBreakTypes.postroll : false}\n              onChange={(e) => {this.props.adBreakTypeHandler(e, adUnitIndex, bidderIndex)}}\n            />\n          </div>\n        }\n      </div>\n    )\n  }\n}\n\nexport default AdUnitBidders;\n","import React from 'react';\nimport shortid from 'shortid';\nimport AdUnitBidders from './AdUnitBidders';\n\nimport { configureRootTheme } from '@yandex-lego/components/Theme'\nimport { theme } from '@yandex-lego/components/Theme/presets/default'\n\nimport { Button } from '@yandex-lego/components/Button/desktop/bundle'\nimport { Select } from '@yandex-lego/components/Select/desktop/bundle'\nimport { Textinput } from '@yandex-lego/components/Textinput/desktop/bundle'\n\nconfigureRootTheme({ theme })\n\nclass AdUnitsUnit extends React.Component {\n  componentDidUpdate(prevProps) {\n    const {adUnitsUsed} = this.props;\n    const {index} = this.props;\n    const codeType = adUnitsUsed[index].codeType;\n    if (adUnitsUsed[index].bidders !== prevProps.adUnitsUsed[index].bidders) {\n      this.props.clearSizesWhenNoBiddersAdded(index);\n      // Дизейблим кнопку добавить биддера, когда больше нет доступных биддеров для добавления\n      this.props.disableAddBidderButton(index, codeType);\n    }\n  }\n  render() {\n    let index = this.props.index;\n    let adUnitsUsed = this.props.adUnitsUsed;\n    return (\n      <div key={this.props.idx} className=\"ad-units__item\">\n        <div className=\"ad-units__close-button\">\n          <Button view=\"action\" size=\"m\"\n            onClick={(e) => {this.props.removeAdUnit(e, index)}}\n          >\n            ✕\n          </Button>\n        </div>\n      <div className=\"ad-units-options\">\n        {/* <p className=\"ad-units-options__container-id-label\">ID контейнера:</p> */}\n        <div className=\"ad-units-options__container-id-input\">\n          <Textinput\n            baseline=\"true\"\n            size=\"m\"\n            view=\"default\"\n            placeholder=\"ID контейнера\"\n            value={adUnitsUsed[index].containerId}\n            state={adUnitsUsed[index].state}\n            hint={adUnitsUsed[index].hint}\n            onChange={(e) => {this.props.containerIdInput(e, index)}}\n          />  \n        </div>\n        <p className=\"ad-units-options__code-type-label\">codeType:</p>\n        <div className=\"ad-units-options__code-type-select\">\n          <Select\n            key={shortid.generate()}\n            baseline=\"true\"\n            size=\"m\"\n            view=\"default\"\n            onChange={(e) => {this.props.codeTypeSelect(e, index)}}\n            value={adUnitsUsed[this.props.index].codeType}\n            options={this.props.codeTypes}\n          />\n        </div>\n        {(adUnitsUsed[index].sizes !== undefined && adUnitsUsed[index].codeType !== 'instream') && \n          <div className=\"ad-units-options__sizes\">\n            <Textinput\n              size=\"m\"\n              view=\"default\"\n              placeholder=\"Sizes\"\n              value={adUnitsUsed[index].sizes}\n              state={adUnitsUsed[index].sizesState}\n              hint={adUnitsUsed[index].sizesHint}\n              onChange={(e) => {this.props.sizesInput(e, index)}}\n            />\n          </div>\n        }\n      </div>\n        <div className=\"adUnitBidders\">\n          {\n            adUnitsUsed[index].bidders.map(\n              (row, idx) => {\n                return(\n                  <AdUnitBidders\n                    key={idx}\n                    adUnitIndex={index}\n                    bidderIndex={idx}\n                    adUnitsUsed={adUnitsUsed}\n                    biddersMap={this.props.biddersMap}\n                    adUnitBidderSelect={this.props.adUnitBidderSelect}\n                    placementIdInput={this.props.placementIdInput}\n                    adfoxParamsInput={this.props.adfoxParamsInput}\n                    biddersList={this.props.biddersList}\n                    codeType={this.props.adUnitsUsed[this.props.index].codeType}\n                    removeBidderFromAdUnit={this.props.removeBidderFromAdUnit}\n                    requireSizes={this.props.requireSizes}\n                    adBreakTypeHandler={this.props.adBreakTypeHandler}\n                  />\n                  )\n                }\n              )\n            }\n        </div>\n        <div className=\"ad_units__button\">\n          <Button view=\"action\" size=\"m\"\n            onClick={(e) => {this.props.addBiddertoUnit(e, index)}}\n            disabled={adUnitsUsed[index].addButtonDisabled}\n            >\n            Добавить биддера\n          </Button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default AdUnitsUnit;\n","import React from 'react';\nimport AdUnitsUnit from './AdUnitsUnit';\n\nimport { configureRootTheme } from '@yandex-lego/components/Theme'\nimport { theme } from '@yandex-lego/components/Theme/presets/default'\nimport { Button } from '@yandex-lego/components/Button/desktop/bundle'\n\nconfigureRootTheme({ theme })\n\nclass AdUnits extends React.Component {\n  render() {\n    return (\n      <div className=\"ad-units__wrapper\">\n        {\n          this.props.adUnitsUsed.map(\n            (row, idx) => {\n              return(\n                <AdUnitsUnit\n                  adUnitsUsed={this.props.adUnitsUsed}\n                  biddersMap={this.props.biddersMap}\n                  key={idx}\n                  index={idx}\n                  codeTypeSelect={this.props.codeTypeSelect}\n                  codeTypes={this.props.codeTypes}\n                  containerIdInput={this.props.containerIdInput}\n                  addBiddertoUnit={this.props.addBiddertoUnit}\n                  adUnitBidderSelect={this.props.adUnitBidderSelect}\n                  placementIdInput={this.props.placementIdInput}\n                  adfoxParamsInput={this.props.adfoxParamsInput}\n                  biddersList={this.props.biddersList}\n                  removeBidderFromAdUnit={this.props.removeBidderFromAdUnit}\n                  removeAdUnit={this.props.removeAdUnit}\n                  requireSizes={this.props.requireSizes}\n                  clearSizesWhenNoBiddersAdded={this.props.clearSizesWhenNoBiddersAdded}\n                  disableAddBidderButton={this.props.disableAddBidderButton}\n                  sizesInput={this.props.sizesInput}\n                  adBreakTypeHandler={this.props.adBreakTypeHandler}\n                  />\n                )\n              }\n            )\n          }\n        <Button \n          view=\"action\" \n          size=\"m\"\n          className=\"ad-units__add-button\" \n          disabled={this.props.buttonDisabled}\n          onClick={this.props.addUnit}\n          >\n          Добавить контейнер\n        </Button>\n      </div>\n    )\n  }\n}\n\nexport default AdUnits;\n","import React from 'react';\nimport shortid from 'shortid';\n\nimport { configureRootTheme } from '@yandex-lego/components/Theme'\nimport { theme } from '@yandex-lego/components/Theme/presets/default'\n\nimport { Button } from '@yandex-lego/components/Button/desktop/bundle'\nimport { Select } from '@yandex-lego/components/Select/desktop/bundle'\nimport { Textinput } from '@yandex-lego/components/Textinput/desktop/bundle'\n\nconfigureRootTheme({ theme })\n\nclass BiddersMapBidder extends React.Component {\n  render() {\n    return (\n      <div key={this.props.idx} className=\"bidders-map__item\">\n          <div className=\"bidders-map__bidder-select\">\n            <Select\n              key={shortid.generate()}\n              width=\"max\"\n              baseline=\"true\"\n              size=\"m\"\n              view=\"default\"\n              onChange={(e) => {this.props.bidderSelect(e, this.props.index)}}\n              value={this.props.biddersUsed[this.props.index].checked}\n              options={this.props.biddersList}\n            />\n          </div>\n          <div className=\"bidders-map__campaign-id\">\n            <Textinput\n              state={this.props.biddersUsed[this.props.index].state}\n              hint={this.props.biddersUsed[this.props.index].hint}\n              baseline=\"true\"\n              type=\"number\"\n              size=\"m\"\n              view=\"default\"\n              placeholder=\"ID\"\n              value={this.props.biddersUsed[this.props.index].value}\n              onChange={(e) => {this.props.campaignIdInput(e, this.props.index)}}\n            />\n          </div>\n          {\n            this.props.biddersUsed[this.props.index].hasOwnProperty(\"biddersName\") &&\n            <div className=\"bidders-map__bidders-name\">\n              <Textinput\n                baseline=\"true\"\n                size=\"m\"\n                view=\"default\"\n                placeholder=\"Логин\"\n                state={this.props.biddersUsed[this.props.index].biddersNameState}\n                hint={this.props.biddersUsed[this.props.index].biddersNameHint}\n                value={this.props.biddersUsed[this.props.index].biddersName}\n                onChange={(e) => {this.props.biddersNameInput(e, this.props.index)}}\n              />\n            </div>\n          }\n          <Button\n            className=\"bidders-map__remove-button\"\n            view=\"action\" \n            size=\"m\"\n            onClick={(e) => {this.props.removeBidder(this.props.index)}}\n          >\n            ✕\n          </Button>\n      </div>\n    )\n  }\n}\n\nexport default BiddersMapBidder;\n","import React from 'react';\nimport BiddersMapBidder from './BiddersMapBidder';\nimport shortid from 'shortid';\n\nimport { configureRootTheme } from '@yandex-lego/components/Theme'\nimport { theme } from '@yandex-lego/components/Theme/presets/default'\nimport { Button } from '@yandex-lego/components/Button/desktop/bundle'\n\nconfigureRootTheme({ theme })\n\nclass BiddersMap extends React.Component {\n  render() {\n    return (\n      <div className=\"bidders-map__wrapper\">\n          {\n            this.props.biddersUsed.map(\n              (row, idx) => {\n                return(\n                  <BiddersMapBidder\n                    biddersUsed={this.props.biddersUsed}\n                    key={idx}\n                    biddersList={row.list}\n                    checked={this.props.biddersUsed[idx].checked}\n                    index={idx}\n                    campaignIdInput={this.props.campaignIdInput}\n                    biddersNameInput={this.props.biddersNameInput}\n                    bidderSelect={this.props.bidderSelect}\n                    removeBidder={this.props.removeBidder}\n                  />\n                )\n              }\n            )\n          }\n        <Button \n          view=\"action\" \n          size=\"m\"\n          className=\"bidders-map__add-button\"\n          disabled={this.props.buttonDisabled}\n          onClick={this.props.addBidder}\n        >\n          Добавить биддера\n        </Button>\n      </div>\n    )\n  }\n}\n\nexport default BiddersMap;\n"],"sourceRoot":""}